<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Калькулятор букмекерских вилок — расчет прибыли</title>
<meta name="description" content="Онлайн калькулятор букмекерских вилок (бк вилки). Расчет прибыли и ставок для ставок на спорт.">
<meta name="keywords" content="букмекерские вилки, бк вилки, калькулятор вилок, ставки на спорт">

<style>
* { box-sizing: border-box; }

body {
  font-family: Arial, sans-serif;
  background:#f2f2f2;
  padding:20px;
}

.wrapper {
  max-width:800px;
  background:#fff;
  margin:auto;
  padding:20px;
  border-radius:8px;
}

h1 { margin-bottom:10px; }

.arb {
  font-size:26px;
  font-weight:bold;
  margin-bottom:10px;
}

table {
  width:100%;
  border-collapse:collapse;
  margin-bottom:15px;
}

th, td {
  border:1px solid #ddd;
  padding:8px;
  text-align:center;
}

input {
  width:100%;
  padding:6px;
}

.settings {
  display:flex;
  gap:20px;
  margin-bottom:15px;
}

.settings input {
  width:120px;
}
</style>
</head>

<body>

<div class="wrapper">

<h1>Онлайн калькулятор букмекерских вилок</h1>

<div class="arb" id="arbPercent">0.00%</div>

<table>
<thead>
<tr>
  <th>#</th>
  <th>Коэффициент</th>
  <th>Ставка</th>
  <th>Прибыль</th>
</tr>
</thead>

<tbody>
<tr>
  <td>1</td>
  <td><input id="k1" type="number" step="0.01" value="2"></td>
  <td><input id="s1" type="number" step="0.01"></td>
  <td id="p1">0.00</td>
</tr>
<tr>
  <td>2</td>
  <td><input id="k2" type="number" step="0.01" value="2"></td>
  <td><input id="s2" type="number" step="0.01"></td>
  <td id="p2">0.00</td>
</tr>
</tbody>
</table>

<div class="settings">
<label>
Общая сумма:
<input id="total" type="number" value="100">
</label>
</div>

</div>

<script>
const k1 = document.getElementById("k1");
const k2 = document.getElementById("k2");
const s1 = document.getElementById("s1");
const s2 = document.getElementById("s2");
const p1 = document.getElementById("p1");
const p2 = document.getElementById("p2");
const total = document.getElementById("total");
const arbPercent = document.getElementById("arbPercent");

function recalc(fromManual = false) {
  const K1 = parseFloat(k1.value) || 0;
  const K2 = parseFloat(k2.value) || 0;
  const T  = parseFloat(total.value) || 0;

  if (K1 <= 1 || K2 <= 1) return;

  // процент вилки
  const inv = (1 / K1) + (1 / K2);
  const arb = (1 - inv) * 100;
  arbPercent.textContent = arb.toFixed(2) + "%";

  // если меняли ОБЩУЮ сумму — пересчитываем ставки
  if (!fromManual && T > 0) {
    s1.value = (T * (1 / K1) / inv).toFixed(2);
    s2.value = (T * (1 / K2) / inv).toFixed(2);
  }

  const S1 = parseFloat(s1.value) || 0;
  const S2 = parseFloat(s2.value) || 0;

  const income1 = S1 * K1;
  const income2 = S2 * K2;

  const profit = Math.min(income1, income2) - (S1 + S2);

  p1.textContent = profit.toFixed(2);
  p2.textContent = profit.toFixed(2);
}

// авто
[k1, k2, total].forEach(el =>
  el.addEventListener("input", () => recalc(false))
);

// ручной ввод ставок
[s1, s2].forEach(el =>
  el.addEventListener("input", () => recalc(true))
);

recalc(false);
</script>

</body>
</html>
